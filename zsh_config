zsh_wifi_signal(){
    local signal=$(nmcli -f ACTIVE,SIGNAL dev wifi list | awk '$1=="sí" {print $2}')
    local bars=$(nmcli -f ACTIVE,BARS dev wifi list | awk '$1=="sí" {print $2}')
    local color='%F{yellow}'
    [[ $signal -gt 75 ]] && color='%F{green}'
    [[ $signal -lt 50 ]] && color='%F{red}'
    echo -n "%{$color%} $bars $signal%{%f%}\uf1eb"
}

POWERLEVEL9K_SHORTEN_DIR_LENGTH=3
POWERLEVEL9K_SHORTEN_STRATEGY="truncate_middle"
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(time context dir vcs virtualenv)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(custom_wifi_signal battery custom_show_ip)
POWERLEVEL9K_CUSTOM_SHOW_IP="echo $(/sbin/ifconfig wlo1 | grep 'Direc. inet:' | cut -d: -f2 | awk '{print $1}')"
POWERLEVEL9K_CUSTOM_SHOW_IP_BACKGROUND="black"
POWERLEVEL9K_CUSTOM_SHOW_IP_FOREGROUND="blue"
POWERLEVEL9K_CUSTOM_WIFI_SIGNAL="zsh_wifi_signal"
POWERLEVEL9K_CUSTOM_WIFI_SIGNAL_BACKGROUND="black"
POWERLEVEL9K_CUSTOM_WIFI_SIGNAL_FOREGROUND="gray"

